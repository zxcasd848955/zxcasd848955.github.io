<!DOCTYPE html>
<html lang="zh-cn"><head>
  <meta charset="utf-8">
  <title>Keep Going</title>

  <!-- mobile responsive meta -->
  <meta charset='utf-8'/>
  <meta HTTP-EQUIV="Pragma" CONTENT="no-cache"/>
  <meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache"/>
  <meta HTTP-EQUIV="Expires" CONTENT="0"/>
  <meta http-equiv="x-dns-prefetch-control" content="on"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is meta description">
  <meta name="author" content="Cz">
  <meta name="generator" content="Hugo 0.71.0" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://zxcasd848955.github.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://zxcasd848955.github.io/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://zxcasd848955.github.io/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://zxcasd848955.github.io/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://zxcasd848955.github.io/scss/style.min.css" media="screen">
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
  <!--Favicon-->
  <link rel="shortcut icon" href="https://zxcasd848955.github.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://zxcasd848955.github.io/images/favicon.png " type="image/x-icon">
</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://zxcasd848955.github.io/">
        
      </a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/zxcasd848955"><i class="ti-github"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="cz158290@gmail.com"><i class="ti-google"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://zxcasd848955.github.io/" style="color:#1D2124">
        
            Keep Going</a>
        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://zxcasd848955.github.io/about">关于</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://zxcasd848955.github.io/blog">笔记</a>
          </li>
          
          
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://zxcasd848955.github.io/life">生活</a>
          </li>
          
          

        </ul>

        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <a href="/categories/%e7%bc%96%e7%a8%8b"
          class="text-primary">编程</a>
        
        <h2>软件安全常见问题</h2>
        <div class="mb-3 post-meta">
          <span>By Cz</span>
          
          <span class="border-bottom border-primary px-2 mx-1"></span>
          <span>01 November 2019</span>
          
        </div>
        
        <div class="content mb-5">
          <p>##Web应用体系架构</p>
<ul>
<li>
<p>Web Client</p>
<ul>
<li>Reponse (<code>xml</code>, <code>javascript</code>, <code>vbscript</code>)</li>
</ul>
</li>
<li>
<p>Web服务器</p>
<ul>
<li>IIS</li>
<li>Apache</li>
</ul>
</li>
<li>
<p>中间件</p>
<ul>
<li>
<p>Tomcat</p>
</li>
<li>
<p>Weblogic</p>
</li>
<li>
<p>Webshper</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>数据库
<ul>
<li>DB2</li>
<li>MySQL</li>
<li>Oracle</li>
</ul>
</li>
</ul>
<p>##网站安全常见问题</p>
<ul>
<li>网络层面
<ul>
<li>拒绝服务, IP欺骗, ARP欺骗, 嗅探</li>
</ul>
</li>
<li>系统层面
<ul>
<li>软件框架漏洞攻击(<code>Struts2</code>, <code>Openssl</code>), 配置错误</li>
</ul>
</li>
<li>应用层面
<ul>
<li>代码缺陷(<code>SQl注入</code>, <code>XSS</code>, <code>CSRF</code>)</li>
<li>信息泄露</li>
<li>拒绝服务, CC攻击</li>
<li>钓鱼,业务流程缺陷</li>
</ul>
</li>
</ul>
<p>##OWSAP</p>
<blockquote>
<p>OWSAP(Open Web Application Security Project) 是开源非盈利的全球性安全组织,<a href="http://www.owsap.com">官网</a></p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">OWSAP Top10 -2013</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">A1 注入</td>
</tr>
<tr>
<td align="center">A2 失效的身份认证和会话管理</td>
</tr>
<tr>
<td align="center">A3 跨站脚本(XSS)</td>
</tr>
<tr>
<td align="center">A4 不安全的直接对象引用</td>
</tr>
<tr>
<td align="center">A5 安全配置错误</td>
</tr>
<tr>
<td align="center">A6 敏感信息泄露</td>
</tr>
<tr>
<td align="center">A7 功能级访问控制缺失</td>
</tr>
<tr>
<td align="center">A8 跨站请求伪造</td>
</tr>
<tr>
<td align="center">A9 使用已知含有漏洞的组件</td>
</tr>
<tr>
<td align="center">A10 未验证的重定向和转发</td>
</tr>
</tbody>
</table>
<p>##Examples</p>
<p>###SQL 注入</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">Select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> accounts <span style="color:#66d9ef">where</span> username <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;admin&#39;</span> <span style="color:#66d9ef">and</span> Password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#66d9ef">or</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span>
<span style="color:#66d9ef">Select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> users <span style="color:#66d9ef">where</span> name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;jsmith&#39;</span><span style="color:#75715e">--&#39; And pwd=&#39;a&#39;
</span></code></pre></div><blockquote>
<ul>
<li>严格检查用户输入 : &lt; &gt; * | ` &amp; 4 ！ # （）<input disabled="" type="checkbox"> ; { } ../ ..\  and or script select等</li>
<li>转义用户输入</li>
<li>谨慎使用存储过程</li>
<li>防止错误页面信息泄露</li>
<li>使用安全的API参考ESAPI项目</li>
</ul>
</blockquote>
<p>###不安全的直接对象引用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">http</span><span style="color:#f92672">:</span><span style="color:#75715e">//example.com/online/getnews.asp?item=11
</span></code></pre></div><blockquote>
<ul>
<li>锁定网站服务器所以目录和文件夹，设置访问权限</li>
<li>验证用户输入和URL请求, 拒绝包含./ 或 ../的请求</li>
</ul>
</blockquote>
<p>###安全配置错误</p>
<blockquote>
<ol>
<li>服务器未及时安装补丁</li>
<li>网站未禁止目录浏览功能</li>
<li>安装不需要的服务如FTP 和SMIP</li>
</ol>
</blockquote>
<p>###CSRF</p>
<blockquote>
<ul>
<li>避免URL明文显示操作参数内容</li>
<li>使用同步令牌(Synchronizer Token) 检查请求是否包含令牌及其有效性</li>
<li>检查Referer header拒绝来自非本网站的直接请求</li>
</ul>
</blockquote>
<p>##编程常见错误</p>
<p>###整数回绕与溢出</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> ui;
ui <span style="color:#f92672">=</span> UINT_MAX;
ui<span style="color:#f92672">++</span>;
printf(<span style="color:#e6db74">&#34;ui=%dl</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ui);
ui <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
ui<span style="color:#f92672">--</span>;
printf(<span style="color:#e6db74">&#34;ui=%dl</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ui);
<span style="color:#75715e">// sum + 1 &gt; UINT_MAX永远不可能
</span></code></pre></div><p>###整数赋值错误</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">short</span> ui <span style="color:#f92672">=</span> i; <span style="color:#75715e">//ui = 65533
</span><span style="color:#75715e">// 有符号转为无符号必须验证范围
</span><span style="color:#75715e"></span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> ui <span style="color:#f92672">=</span> ULONG_MAX;
<span style="color:#66d9ef">char</span> c <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
printf(<span style="color:#e6db74">&#34;%d&#34;</span>, c<span style="color:#f92672">==</span>ui) <span style="color:#75715e">// 1
</span><span style="color:#75715e">//无符号与有符号之间的隐式转换
</span></code></pre></div><p>###size_t导致的死循环</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">size_t s <span style="color:#f92672">=</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>);
<span style="color:#66d9ef">while</span>( <span style="color:#f92672">--</span>s <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>){
    printf(<span style="color:#e6db74">&#34;%d&#34;</span>, s)
}<span style="color:#75715e">// --s &gt; 0 
</span><span style="color:#75715e">//size_t 为无符号整型
</span></code></pre></div><p>###整型提升导致的内存溢出</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#66d9ef">char</span> c1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
<span style="color:#66d9ef">char</span> c2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;b&#39;</span>;
<span style="color:#66d9ef">char</span> c3 <span style="color:#f92672">=</span> c1 <span style="color:#f92672">+</span> c2;
<span style="color:#75715e">//------------------------
</span><span style="color:#75715e"></span><span style="color:#66d9ef">signed</span> <span style="color:#66d9ef">char</span> c, c1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>, c2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, c3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
c <span style="color:#f92672">=</span> c1<span style="color:#f92672">*</span>c2 <span style="color:#f92672">/</span> c3;
<span style="color:#75715e">//整型参与运算时，若都小于int，则都转换为int, 若不都小于int,则小于int 类型的自动提升为unsigned int
</span></code></pre></div><p>###误用short引起的缓冲区溢出</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>c){
    <span style="color:#66d9ef">short</span> s <span style="color:#f92672">=</span> strlen(c);<span style="color:#75715e">// size_t s = ..
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">256</span>];
    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;strlen(c)=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;s =&#34;</span><span style="color:#f92672">&lt;&lt;</span> s <span style="color:#f92672">&lt;&lt;</span> endl;
    <span style="color:#66d9ef">if</span> (s <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">256</span>){
    strcpy(buf);
    }<span style="color:#66d9ef">else</span>{
        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;overflow&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
    }
    <span style="color:#66d9ef">void</span> main(){
    	<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>c <span style="color:#f92672">=</span> new <span style="color:#66d9ef">char</span>[<span style="color:#ae81ff">35000</span>];
        memset(c, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">35000</span>);
    	c[<span style="color:#ae81ff">35000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\0</span><span style="color:#e6db74">&#34;</span>;
        test(c);
    }<span style="color:#75715e">//strlen(c) = 34999 s = -30537 
</span></code></pre></div><p>###未正确区分标量和数组问题</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">Obj <span style="color:#f92672">*</span>obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Obj[<span style="color:#ae81ff">5</span>];<span style="color:#75715e">// new Obj(5)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">delete</span> obj;
obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Obj(<span style="color:#ae81ff">5</span>);<span style="color:#75715e">// new Obj[5]
</span><span style="color:#75715e"></span><span style="color:#66d9ef">delete</span>[] obj;
</code></pre></div><p>###避免XML注入</p>
<blockquote>
<ul>
<li>拒绝服务漏洞</li>
<li>XML注入</li>
<li>XML外部实体注入</li>
</ul>
</blockquote>
<p>##软件开发安全概述</p>
<blockquote>
<p><strong>软件生命周期模型</strong></p>
<ol>
<li>瀑布模型</li>
<li>迭代模型</li>
<li>增量模型</li>
<li>快速原型模型</li>
<li>螺旋模型</li>
<li>净室模型</li>
</ol>
</blockquote>
<blockquote>
<p><strong>软件安全开发生命周期模型</strong></p>
<ol>
<li>SDL   文档丰富，维护更新及时 较多工具支持， 适合大型企业</li>
<li>CLASP  轻量级过程，适合小型企业</li>
<li>SAMM 开放框架，安全知识要求较低</li>
<li>BSIMM  最佳实践参考， 不强制实践</li>
<li>BSI接触点 强调开发安全重点，注重实用方法，上手容易</li>
<li>CMMI 自动的可扩展的框架，持续改进</li>
</ol>
<p><strong>软件安全属性</strong></p>
<ol>
<li>机密性</li>
<li>完整性</li>
<li>可用性</li>
<li>可追踪性</li>
<li>抗抵赖性</li>
</ol>
</blockquote>
        </div>

        
        
      </div>
    </div>
  </div>
</section>



<!-- JS Plugins -->

<script src="https://zxcasd848955.github.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://zxcasd848955.github.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://zxcasd848955.github.io/plugins/slick/slick.min.js"></script>

<script src="https://zxcasd848955.github.io/plugins/venobox/venobox.min.js"></script>

<script src="https://zxcasd848955.github.io/plugins/search/fuse.min.js"></script>

<script src="https://zxcasd848955.github.io/plugins/search/mark.js"></script>

<script src="https://zxcasd848955.github.io/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://zxcasd848955.github.io/js/script.min.js"></script>
<!-- google analitycs -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script></body>
</html>